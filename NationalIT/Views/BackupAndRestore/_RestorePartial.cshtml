@using System.Xml.Linq;
@model List<XElement>
<!-- datatable -->
@if (ViewBag.getLibrary == "1")
{
    <script src="@Url.Content("~/Scripts/js/gebo_datatables.js")" type="text/javascript" ></script>
}
<script type="text/javascript">
    $(document).ready(function () {
//        $('#RestoreData table').dataTable({
//            "bPaginate": true,
//            "bFilter": true,
//            "sDom": "<'row'<'span6'<'dt_actions'>l><'span6'f>r>t<'row'<'span6'i><'span6'p>>",
//            "sPaginationType": "bootstrap_alt",
//            "oLanguage": {
//                "sLengthMenu": "_MENU_ Record / page"
//            },
//            "aoColumns": [
//					{ "bSortable": true },
//					{ "bSortable": true },
//					{ "bSortable": true },
//                    { "bSortable": false }
//				]
//        });
//        $('.dt_actions').html($('.SaoLuuHide').html());
//        $('select[name="DataTables_Table_0_length"] option').filter(function () {
//            return $(this).text() == '10';
//        }).prop('selected', true);
        $("a.Backup").click(function () {
            $(".BackupBox").html($('.waiting').html());
            $.ajax({
                url: "/BackupAndRestore/Backup",
                success: function (data) {
                    $("#BackupBox").html(data);
                }
            });
        });
    });
</script>
<!-- datatable functions -->
<table class="table table-striped table-bordered dTableR"@* id="dt_a"*@>
    <thead>
        <tr>
            <th style="width: 5%" class="center">
                STT
            </th>
            <th>
                Filename
            </th>
            <th>
                Backup date
            </th>
            <th>
                Action
            </th>
        </tr>
    </thead>
    <tbody>
        @if (Model.Count() != 0)
        {
            int i = 1;
            foreach (var item in Model)
            {
                if (item.Elements().Count() != 0)
                {
          
            <tr class="rowlink">
                <td style="width: 5%" class="center">
                    @(i++)
                </td>
                <td>
                    @item.Element("Name").Value
                </td>
                <td>
                    @DateTime.Parse(item.Element("Date").Value)
                </td>
                <td>
                    <a href="javascript:void(0)" class="border" title="Restore database" onclick="Loading(@item.Element("ID").Value);">
                        Restore</a> | <a href="javascript:void(0)" class="border" title="Delete file restore" onclick="DeleteBackupData(@item.Element("ID").Value);">
                            Delete</a>
                </td>
            </tr>
            
                }
            }
        }
    </tbody>
</table>
