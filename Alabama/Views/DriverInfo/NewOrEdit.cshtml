@model Alabama.Driver_Info
@using Webdiyer.WebControls.Mvc;
@{
    ViewBag.Title = "NewOrEdit";
}
<div class="row-fluid">
    <div class="span12">
        <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
        <h3>
            Driver Info</h3>
        @using (Html.BeginForm(null, null, FormMethod.Post, new { @class = "form-horizontal" }))
        {
            @Html.ValidationSummary(true)
            @Html.HiddenFor(model => model.ID)
            <div class="row-fluid">
                <div class="span12">
                    <a href="#" class="btn btn-info">New Trip info</a> <a href="#" class="btn btn-info">
                        Equipment</a> <a href="#" class="btn btn-info">Violations</a> <a href="#" class="btn btn-info">
                            Maintenance</a> <a href="#" class="btn btn-info">Pay rolls rollback</a>
                    <a href="#" class="btn btn-info">Pay rolls operations rollback</a> <a href="#" class="btn btn-info">
                        Driver payroll & expanses</a>
                </div>
                <div class="span12">
                </div>
            </div>
            <div class="row-fluid">
                <div class="span4">
                    <div class="control-group">
                        <label for="Employee_ID">
                            Employee ID</label>
                        @Html.TextBoxFor(model => model.Employee_ID, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Employee_ID)
                    </div>
                    <div class="control-group">
                        <label for="First_name">
                            First name</label>
                        @Html.TextBoxFor(model => model.First_name, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.First_name)
                    </div>
                    <div class="control-group">
                        <label for="Middle_in">
                            @Html.LabelFor(model => model.Middle_in)</label>
                        @Html.TextBoxFor(model => model.Middle_in, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Middle_in)
                    </div>
                    <div class="control-group">
                        <label for="Expiration_Date">
                            @Html.LabelFor(model => model.Expiration_Date)</label>
                        @Html.TextBoxFor(model => model.Expiration_Date, new { @class = "input-xlarge date-picker" })
                        @Html.ValidationMessageFor(model => model.Expiration_Date)
                    </div>
                    <div class="control-group">
                        <label for="Pay_rate">
                            @Html.LabelFor(model => model.Pay_rate)</label>
                        @Html.TextBoxFor(model => model.Pay_rate, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Pay_rate)
                    </div>
                    <div class="control-group">
                        <label for="fuel___advance_Fee_rate">
                            @Html.LabelFor(model => model.fuel___advance_Fee_rate)</label>
                        @Html.TextBoxFor(model => model.fuel___advance_Fee_rate, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.fuel___advance_Fee_rate)
                    </div>
                    <div class="control-group">
                        <label for="Fuel_Card">
                            @Html.LabelFor(model => model.Fuel_Card)</label>
                        @Html.TextBoxFor(model => model.Fuel_Card, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Fuel_Card)
                    </div>
                    <div class="control-group">
                        <label for="Truck">
                            @Html.LabelFor(model => model.Truck)</label>
                        @Html.TextBoxFor(model => model.Truck, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Truck)
                    </div>
                </div>
                <div class="span4">
                    <div class="control-group">
                        <label for="Active" class="checkbox">
                            Active
                            @Html.CheckBoxFor(model => model.Active, new { @class = "input-xlarge" })</label>
                        @Html.ValidationMessageFor(model => model.Active)
                    </div>
                    <div class="control-group">
                        <label for="Last_name">
                            @Html.LabelFor(model => model.Last_name)</label>
                        @Html.TextBoxFor(model => model.Last_name, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Last_name)
                    </div>
                    <div class="control-group">
                        <label for="SSN">
                            @Html.LabelFor(model => model.SSN)</label>
                        @Html.TextBoxFor(model => model.SSN, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.SSN)
                    </div>
                    <div class="control-group">
                        <label for="Drive_Lic">
                            @Html.LabelFor(model => model.Drive_Lic)</label>
                        @Html.TextBoxFor(model => model.Drive_Lic, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Drive_Lic)
                    </div>
                    <div class="control-group">
                        <label for="State">
                            @Html.LabelFor(model => model.State)</label>
                        @Html.TextBoxFor(model => model.State, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.State)
                    </div>
                    <div class="control-group">
                        <label for="Date_Issued">
                            @Html.LabelFor(model => model.Date_Issued)</label>
                        @Html.TextBoxFor(model => model.Date_Issued, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Date_Issued)
                    </div>
                    <div class="control-group">
                        <label for="HazMat" class="checkbox">
                            HazMat
                            @Html.CheckBoxFor(model => model.HazMat, new { @class = "input-xlarge" })
                        </label>
                        @Html.ValidationMessageFor(model => model.HazMat)
                    </div>
                    <div class="control-group">
                        <label for="Dispatcher">
                            @Html.LabelFor(model => model.Dispatcher)</label>
                        @Html.TextBoxFor(model => model.Dispatcher, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Dispatcher)
                    </div>
                </div>
                <div class="span4">
                    <div class="control-group">
                        <label for="Trailer">
                            @Html.LabelFor(model => model.Trailer)</label>
                        @Html.TextBoxFor(model => model.Trailer, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Trailer)
                    </div>
                    <div class="control-group">
                        <label for="Owner" class="checkbox">
                            Owner
                            @Html.CheckBoxFor(model => model.Owner, new { @class = "input-xlarge" })
                        </label>
                        @Html.ValidationMessageFor(model => model.Owner)
                    </div>
                    <div class="control-group">
                        <label for="Owner_Pay_Rate">
                            @Html.LabelFor(model => model.Owner_Pay_Rate)</label>
                        @Html.TextBoxFor(model => model.Owner_Pay_Rate, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Owner_Pay_Rate)
                    </div>
                    <div class="control-group">
                        <label for="Owner_Name">
                            @Html.LabelFor(model => model.Owner_Name)</label>
                        @Html.TextBoxFor(model => model.Owner_Name, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Owner_Name)
                    </div>
                    <div class="control-group">
                        <label for="Address">
                            @Html.LabelFor(model => model.Address)</label>
                        @Html.TextBoxFor(model => model.Address, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Address)
                    </div>
                    <div class="control-group">
                        <label for="Phone">
                            @Html.LabelFor(model => model.Phone)</label>
                        @Html.TextBoxFor(model => model.Phone, new { @class = "input-xlarge" })
                        @Html.ValidationMessageFor(model => model.Phone)
                    </div>
                    <div class="control-group">
                        <label for="Comments">
                            @Html.LabelFor(model => model.Comments)</label>
                        @Html.TextAreaFor(model => model.Comments, new { @class = "input-xlarge", rows = "5" })
                        @Html.ValidationMessageFor(model => model.Comments)
                    </div>
                </div>
            </div>  
            <div class="row-fluid">
                <div class="span12">
                    @{
                   int page = (!string.IsNullOrEmpty(Request.Params["page"]) ? int.Parse(Request.Params["page"]) : 1);
                   int pageIndex = (!string.IsNullOrEmpty(Request.Params["pageIndex"]) ? int.Parse(Request.Params["pageIndex"]) : 1);
                   int pageSize = (!string.IsNullOrEmpty(Request.Params["pageSize"]) ? int.Parse(Request.Params["pageSize"]) : 20);
                   var lst = Alabama.DB.Entities.Fuel___Expenses.Where(m => m.Driver_Info.ID == Model.ID).ToList();
                   var lst1 = Alabama.DB.Entities.Operating_Expenses.Where(m => m.Driver_Info.ID == Model.ID).ToList();
                    }
                    @Html.Partial("_Fuel_ExpensesPartial", new PagedList<Alabama.Fuel___Expenses>(lst, page, pageSize))
                </div>
            </div>
            <div class="row-fluid">
                <div class="span12">
                    @Html.Partial("_Operating_ExpensesPartial", new PagedList<Alabama.Operating_Expenses>(lst1, pageIndex, pageSize))
                </div>
            </div>
            <div class="row-fluid">
                <div class="span12">
                    <input type="submit" value="Save" class="btn btn-info" />
                    @Html.ActionLink("Cancel", "Index", null, new { @class = "btn" })
                </div>
            </div>
        }
    </div>
</div>
